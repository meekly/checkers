Итерфейс взаимодействия клиента с сервером. Относительно клиента!

  Исходящие сообщения:
  - connect - первое сообщение после подключения, отправляем свой ид и имя пользователя на сервер
    {"type":"connect", "user_id": //..., "user_name": //..., "user_login": //...}
  - invite - приглашаем пользователя по его id для совместной игры
    {"type":"invite", "user_id": //...}
  - invite-accept - подтверждаем полученное приглашение, ходим первыми
    {"type":"invite-accept", "user_id": //...}
  - invite-deny - отклоняем полученное приглашение
    {"type":"invite-deny", "user_id": //...}
  - turn - делаем ход
    {"type":"turn", "fromX": //..., "fromY": //..., "toX": //..., "toY": //...}
  - message - отправляем сообщение в чат пользователю с которым сейчас идет игра
    {"type":"message", "text": //...}
  - message-all - отправляем сообщение в общий чат
    {"type":"message-all", "text": //...}
  - game-over - оповещаем сервер что игра закончилась нашей победой, поражением или мы сдались
    {"type":"game-over", "result": ("win"|"lose"|"surrender")}

  Входящие сообщения:
  - invite - запрос на совместную игру от пользователя user_id
    {"type":"invite", "user_id": //...}
  - invite-accept - сообщает что запрос на игру был принят пользователем user_id, ходим вторыми
    {"type":"invite-accept", "user_id": //...}
  - turn - принимаем ход противника
    {"type":"turn", "fromX": //..., "fromY": //..., "toX": //..., "toY": //...}
  - change-status - узнаем что игрок user_id изменил статус (user_name не обязательный параметр, если это повторное изменение статуса)
    - online - доступен для игры
    - offline - вышел из игры
    - busy - находиться в игре с другим игроком 
    {"type":"change-status", "user_id": //..., "user_name": //..., "user_login": //..., "status": ("online"|"offline"|"busy")}
  - opponent-surrender - узнаем, что наш противник сдался, мы победили
    {"type":"opponent-surrender"}
  - message - принимаем сообщение от пользователя, с котором идет текущая игра
    {"type":"message", "text": //...}
  - message-all - узнаем о сообщении в общем чате от пользователя user_id
    {"type":"message-all", "text": //..., "user_id": //..., "user_name": //..., "user_login": //...}
  - message-history - узнаем историю сообщений в чате при подключении, size - число сообщений
    {"type":"message-history", "size": //..., "messages": [{"text": //..., "user_id": //..., "user_name": //..., "user_login": //..}]}

Meekly:
	Если перезагрузить страницу, то вся история чата, игра - удалятся. Это можно подправить только
	дополнительными таблицами на сервере и командами сокета (или ajax-ом). Это усложнение можно опустить пока.
